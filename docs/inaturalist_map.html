<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Andy Lyons" />


<title>Mapping iNaturalist Data in R</title>

<script src="lib/header-attrs-2.10/header-attrs.js"></script>
<script src="lib/jquery-1.12.4/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="lib/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="lib/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="lib/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="lib/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="lib/navigation-1.1/tabsets.js"></script>
<script src="lib/navigation-1.1/codefolding.js"></script>
<link href="lib/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="lib/highlightjs-9.12.0/highlight.js"></script>
<script src="lib/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="lib/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="lib/leaflet-1.3.1/leaflet.js"></script>
<link href="lib/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="lib/proj4-2.6.2/proj4.min.js"></script>
<script src="lib/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="lib/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="lib/leaflet-binding-2.0.4.1/leaflet.js"></script>
<script src="lib/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="lib/leaflet-providers-plugin-2.0.4.1/leaflet-providers-plugin.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-WFBV8LKRHQ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-WFBV8LKRHQ');
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
      .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>








<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>



<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>




</head>

<body>


<div class="container-fluid main-container">



<div style="background-color:#1C2C53; color:white; padding:8px;">
<img src="images/ucanr_2019_white_232x30.png" style="width:232px; height:30px; margin:15px;"/><a href="http://igis.ucanr.edu/">
<img src="images/igis-shield_54x54.png" style="width:54px; height:54px; margin:4px; float:right;"/></a>
</div>
<div style="clear:both;"></div>


<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Mapping iNaturalist Data in R</h1>
<h4 class="author"><a href='https://ucanr.edu/?facultyid=32909' target='_blank'>Andy Lyons</a></h4>
<h4 class="date">September 2021</h4>

</div>


<style type="text/css">
h1.title {font-weight:bold;}
h1 {font-size:30px; font-weight:bold;}
h2 {font-size:24px; font-weight:bold;}
h3 {font-size:18px; font-weight:bold;}
h4.date {font-size:90%;}
</style>
<p style="font-style:italic; font-size:90%; margin:2em;">
IGIS <a href="http://igis.ucanr.edu/Tech_Notes/">Tech Notes</a> describe workflows and techniques or using geospatial science and technologies in research and extension. They are works in progress, and we welcome feedback and comments.
</p>
<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p><img src="images/inaturalist_logo.svg" style="float:right; padding:5px;" width="180px"/></p>
<p><a href="https://www.inaturalist.org/" target="_blank" rel="noopener">iNaturalist</a> is an enormously popular platform for recording and sharing observations of nature. Most people interact with iNaturalist through the <a href="https://play.google.com/store/apps/details?id=org.inaturalist.android" target="_blank" rel="noopener">Android</a> or <a href="https://itunes.apple.com/us/app/inaturalist/id421397028?mt=8" target="_blank" rel="noopener">iOS</a> phone app, but a little known fact is the platform also has an API (Application Programming Interface). That means that you can query observations using programming languages like R and Python. And if you can query observations, then you can map them!</p>
<p>The rest of this Tech Note demonstrates how you can download iNaturalist observations in R using the <a href="https://docs.ropensci.org/rinat/" target="_blank" rel="noopener"><code>rinat</code></a> package, and then map them using <a href="https://rstudio.github.io/leaflet/" target="_blank" rel="noopener"><code>leaflet</code></a>. We’ll also use functions from <code>sf</code> and <code>dplyr</code>. These are very common R packages in data science, and there are lot of online resources that teach you how to use them.</p>
<p>Our study area will be <a href="https://parks.lacounty.gov/placerita-canyon-state-park/" target="_blank" rel="noopener">Placerita Canyon State Park</a> in Los Angeles County. If you want to jump ahead to see the final product, click <a href="#leaflet-map">here</a>.</p>
</div>
<div id="import-the-park-boundary" class="section level2">
<h2>Import the Park Boundary</h2>
<p>First we load the packages we’re going use:</p>
<pre class="r"><code>library(rinat)
library(sf)
library(dplyr)
library(tmap)
library(leaflet)

## Load the conflicted package and set preferences
library(conflicted)
conflict_prefer(&quot;filter&quot;, &quot;dplyr&quot;, quiet = TRUE)
conflict_prefer(&quot;count&quot;, &quot;dplyr&quot;, quiet = TRUE)
conflict_prefer(&quot;select&quot;, &quot;dplyr&quot;, quiet = TRUE)
conflict_prefer(&quot;arrange&quot;, &quot;dplyr&quot;, quiet = TRUE)</code></pre>
<p><br />
</p>
<p>Now we can import the park boundary which is saved as a <a href="placertia_canyon_sp.geojson">geojson file</a>. We use the <a href="https://r-spatial.github.io/sf/" target="_blank" rel="noopener"><code>sf</code></a> package to import and transform the boundary to geographic coordinates, and <a href="https://r-tmap.github.io/tmap/" target="_blank" rel="noopener"><code>tmap</code></a> to plot it:</p>
<pre class="r"><code>placertia_sf &lt;- st_read(&quot;placertia_canyon_sp.geojson&quot;, quiet = TRUE) %&gt;% 
  st_transform(4326)

# tmap_mode(&quot;view&quot;)
# tm_shape(placertia_sf) + tm_borders()

leaflet(placertia_sf) %&gt;% 
  addTiles() %&gt;% 
  addPolygons()</code></pre>
<div id="htmlwidget-77d38fa78b09d4c9065e" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-77d38fa78b09d4c9065e">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addPolygons","args":[[[[{"lng":[-118.472159346213,-118.471193215311,-118.469972627623,-118.469788034611,-118.469584514996,-118.46657350769,-118.46223539047,-118.459173286991,-118.459167519807,-118.457896614784,-118.457851895751,-118.453108736253,-118.448474938557,-118.444093720169,-118.44193516017,-118.441966421541,-118.439800756766,-118.439840599744,-118.439846363335,-118.439849879341,-118.437795151113,-118.437640483679,-118.437691417258,-118.439899892146,-118.448664424692,-118.448654093167,-118.448567072468,-118.448564307453,-118.446493482314,-118.446385476071,-118.446385367375,-118.446363512262,-118.446297752888,-118.448463418562,-118.448464552236,-118.449556688924,-118.44985709364,-118.450813637721,-118.453155728024,-118.453163851489,-118.455535570028,-118.457811292798,-118.45882188851,-118.459168297748,-118.459171673617,-118.462203798518,-118.462182684515,-118.462797869687,-118.463209771499,-118.466503896341,-118.466483141664,-118.466434478129,-118.466477215478,-118.471140239863,-118.471166780588,-118.472132807285,-118.472159346213],"lat":[34.3779826358486,34.377980906146,34.3779804531463,34.3779803278484,34.3779801291514,34.3779764065464,34.3780235444548,34.3780568855064,34.3780569878205,34.3780705992991,34.3780711686992,34.3781371056385,34.3782004535393,34.3781811562449,34.378168005197,34.3745354951956,34.3745236477641,34.3714825830335,34.3710390421973,34.3707688802975,34.3707680609721,34.3707680216742,34.367025702556,34.3670128493242,34.3669761144596,34.3673671392531,34.3706665186948,34.3707734648119,34.3707727633805,34.3707727389119,34.3707782354352,34.3717237603527,34.3745590662336,34.3745708810369,34.3750255988141,34.3749792970384,34.3752949447569,34.3762996835321,34.3762370074052,34.376691728741,34.3770810407417,34.376986728991,34.376944827122,34.3769304755269,34.3769302508778,34.3768035849876,34.3759985381596,34.375984273149,34.3759746650253,34.3758978207566,34.3752782655273,34.3738206751647,34.3738211578447,34.3738677027126,34.3759243526637,34.375930136522,34.3779826358486]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"#03F","weight":5,"opacity":0.5,"fill":true,"fillColor":"#03F","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[34.3669761144596,34.3782004535393],"lng":[-118.472159346213,-118.437640483679]}},"evals":[],"jsHooks":[]}</script>
<p><br />
</p>
</div>
<div id="get-the-bounding-box" class="section level2">
<h2>Get the Bounding Box</h2>
<p>Next, we get the bounding box of the study area, so we can pass it to the iNaturalist API to tell it which area we’re interested in:</p>
<pre class="r"><code>placertia_bb &lt;- placertia_sf %&gt;% 
  st_bbox()

placertia_bb</code></pre>
<pre><code>##       xmin       ymin       xmax       ymax 
## -118.47216   34.36698 -118.43764   34.37820</code></pre>
<p><br />
</p>
</div>
<div id="download-data" class="section level2">
<h2>Download data</h2>
<p>Now we are ready to retrieve iNaturalist observations. The <a href="https://docs.ropensci.org/rinat/"><code>rinat</code></a> makes this easy with the <code>get_inat_obs()</code>.</p>
<div style="margin:0 2em; border:4px solid gray; background-color:#eee; padding:10px;">
<p style="font-size:110%; font-weight:bold;">
Downloading Ettiquete
</p>
<p>The non-profit that supports iNaturalist doesn’t charge for downloading data, because they believe in open data and supporting citizen science initiatives. They also don’t require registration for simply downloading observations. That being said, downloading data consumes resources that can affect other users, and it’s bad form (and bad programming) to download data unnecessarily.</p>
<p>There are a few best practices for downloading data in ways that won’t cause problems for other users:</p>
<ol style="list-style-type: decimal">
<li><p>Use the server-side filters the API provides to only return results for your area of interest and your taxon(s) of interest. See below for examples of sending spatial areas and a taxon name when calling the API from R.</p></li>
<li><p>Always save your results to disk, and don’t download data more than once. Your code should check to see if you’ve already downloaded something before getting it again.</p></li>
<li><p>Don’t download more than you need. The API will throttle you (reduce your download speed) if you exceed more than <a href="https://api.inaturalist.org/v1/" target="_blank" rel="noopener">100 calls per minute</a>. Spread it out.</p></li>
<li><p>The API is not designed for bulk downloads. For that, look at the <a href="https://www.inaturalist.org/observations/export" target="_blank" rel="noopener">Export</a> tool.</p></li>
</ol>
</div>
<p><br />
</p>
<p>We’ll use the <code>bounds</code> argument in <code>get_inat_obs()</code> to specify the extent of our search. <code>bounds</code> takes 4 coordinates. Our study area is not a pure rectangle, but we’ll start with the bounding box and then apply an additional mask to remove observations outside the park boundary.</p>
<p>For starters we’ll just download the most recent 100 iNaturalist observations within the bounding box. (There are actually over 3000, but that would make for a very crowded map!). The code below first checks if the data have already been downloaded, to prevent downloading data twice.</p>
<pre class="r"><code>search_results_fn &lt;- &quot;placertia_bb_inat.Rdata&quot;

if (file.exists(search_results_fn)) {
  load(search_results_fn)

} else {  
  # Note we have to rearrange the coordinates of the bounding box a little bit 
  # to give get_inat_obs() what it expects
  inat_obs_df &lt;- get_inat_obs(bounds = placertia_bb[c(2,1,4,3)], 
                            taxon_name = NULL,
                            year = NULL,
                            month = NULL,
                            maxresults = 100)
  
  ## Save the data frame to disk
  save(inat_obs_df, file = search_results_fn)
}</code></pre>
<p><br />
</p>
<p>See what we got back:</p>
<pre class="r"><code>dim(inat_obs_df)</code></pre>
<pre><code>## [1] 100  36</code></pre>
<pre class="r"><code>glimpse(inat_obs_df)</code></pre>
<pre><code>## Rows: 100
## Columns: 36
## $ scientific_name                  &lt;chr&gt; &quot;Sceloporus occidentalis&quot;, &quot;Eriogonum~
## $ datetime                         &lt;chr&gt; &quot;2021-09-04 14:01:55 -0700&quot;, &quot;2021-08~
## $ description                      &lt;chr&gt; &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;~
## $ place_guess                      &lt;chr&gt; &quot;Placerita Canyon State Park, Newhall~
## $ latitude                         &lt;dbl&gt; 34.37754, 34.37690, 34.37691, 34.3764~
## $ longitude                        &lt;dbl&gt; -118.4571, -118.4598, -118.4597, -118~
## $ tag_list                         &lt;chr&gt; &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;~
## $ common_name                      &lt;chr&gt; &quot;Western Fence Lizard&quot;, &quot;California b~
## $ url                              &lt;chr&gt; &quot;https://www.inaturalist.org/observat~
## $ image_url                        &lt;chr&gt; &quot;https://inaturalist-open-data.s3.ama~
## $ user_login                       &lt;chr&gt; &quot;bmelchiorre&quot;, &quot;ericas3&quot;, &quot;ericas3&quot;, ~
## $ id                               &lt;int&gt; 94526862, 92920757, 92920756, 9291801~
## $ species_guess                    &lt;chr&gt; &quot;Western Fence Lizard&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;~
## $ iconic_taxon_name                &lt;chr&gt; &quot;Reptilia&quot;, &quot;Plantae&quot;, &quot;Plantae&quot;, &quot;Pl~
## $ taxon_id                         &lt;int&gt; 36204, 54999, 52854, 58014, 64121, 55~
## $ num_identification_agreements    &lt;int&gt; 2, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 1~
## $ num_identification_disagreements &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0~
## $ observed_on_string               &lt;chr&gt; &quot;Sat Sep 04 2021 14:01:55 GMT-0700 (P~
## $ observed_on                      &lt;chr&gt; &quot;2021-09-04&quot;, &quot;2021-08-29&quot;, &quot;2021-08-~
## $ time_observed_at                 &lt;chr&gt; &quot;2021-09-04 21:01:55 UTC&quot;, &quot;2021-08-2~
## $ time_zone                        &lt;chr&gt; &quot;Pacific Time (US &amp; Canada)&quot;, &quot;Pacifi~
## $ positional_accuracy              &lt;int&gt; 5, 3, 4, 4, 16, 4, 41, 41, 26, 9, NA,~
## $ public_positional_accuracy       &lt;int&gt; 5, 3, 4, 4, 16, 4, 41, 41, 26, 9, NA,~
## $ geoprivacy                       &lt;chr&gt; &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;~
## $ taxon_geoprivacy                 &lt;chr&gt; &quot;open&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;~
## $ coordinates_obscured             &lt;chr&gt; &quot;false&quot;, &quot;false&quot;, &quot;false&quot;, &quot;false&quot;, &quot;~
## $ positioning_method               &lt;chr&gt; &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;~
## $ positioning_device               &lt;chr&gt; &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;~
## $ user_id                          &lt;int&gt; 4985856, 404893, 404893, 404893, 3214~
## $ created_at                       &lt;chr&gt; &quot;2021-09-12 02:16:03 UTC&quot;, &quot;2021-08-2~
## $ updated_at                       &lt;chr&gt; &quot;2021-09-12 06:28:20 UTC&quot;, &quot;2021-08-2~
## $ quality_grade                    &lt;chr&gt; &quot;research&quot;, &quot;needs_id&quot;, &quot;needs_id&quot;, &quot;~
## $ license                          &lt;chr&gt; &quot;CC-BY-NC&quot;, &quot;CC-BY-NC-SA&quot;, &quot;CC-BY-NC-~
## $ sound_url                        &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, N~
## $ oauth_application_id             &lt;int&gt; 3, 333, 333, 333, 3, 3, 3, 3, 3, 3, N~
## $ captive_cultivated               &lt;chr&gt; &quot;false&quot;, &quot;false&quot;, &quot;false&quot;, &quot;false&quot;, &quot;~</code></pre>
<p><br />
</p>
<p>Next, in order to spatially filter the observations using the park boundary, we convert the data frame into a sf object. At the same time we’ll select just a few of the rows:</p>
<pre class="r"><code>inat_obs_sf &lt;-  inat_obs_df %&gt;% 
  select(longitude, latitude, datetime, common_name, scientific_name, image_url, user_login) %&gt;% 
  st_as_sf(coords=c(&quot;longitude&quot;, &quot;latitude&quot;), crs=4326)

dim(inat_obs_sf)</code></pre>
<pre><code>## [1] 100   6</code></pre>
<p><br />
</p>
<p>Next, filter out observations that lie outside Placerita Canyon SP. How many are left?</p>
<pre class="r"><code>inat_obs_pcsp_sf  &lt;- inat_obs_sf %&gt;% st_intersection(placertia_sf)
nrow(inat_obs_pcsp_sf)</code></pre>
<pre><code>## [1] 90</code></pre>
<p><br />
</p>
<p>Next, add a column to the attribute table containing HTML code that will appear in the popup windows:</p>
<pre class="r"><code>inat_obs_pcsp_popup_sf &lt;- inat_obs_pcsp_sf %&gt;% 
  mutate(popup_html = paste0(&quot;&lt;p&gt;&lt;b&gt;&quot;, common_name, &quot;&lt;/b&gt;&lt;br/&gt;&quot;,
                             &quot;&lt;i&gt;&quot;, scientific_name, &quot;&lt;/i&gt;&lt;/p&gt;&quot;,
                             &quot;&lt;p&gt;Observed: &quot;, datetime, &quot;&lt;br/&gt;&quot;,
                             &quot;User: &quot;, user_login, &quot;&lt;/p&gt;&quot;,
                             &quot;&lt;p&gt;&lt;img src=&#39;&quot;, image_url, &quot;&#39; style=&#39;width:100%;&#39;/&gt;&lt;/p&gt;&quot;)
  )</code></pre>
<p><br />
</p>
</div>
<div id="leaflet-map" class="section level2">
<h2>Map the Results</h2>
<p>Finally, we have everything we need to map the results with leaflet. Zoom-in and click on an observation to see details about it.</p>
<pre class="r"><code>htmltools::p(&quot;iNaturalist Observations in Placerita Canyon SP&quot;,
             htmltools::br(),
             inat_obs_pcsp_popup_sf$datetime %&gt;% 
               as.Date() %&gt;% 
               range(na.rm = TRUE) %&gt;% 
               paste(collapse = &quot; to &quot;),
             style = &quot;font-weight:bold; font-size:110%;&quot;)

leaflet(placertia_sf) %&gt;% 
  addProviderTiles(&quot;Esri.WorldStreetMap&quot;) %&gt;% 
  addPolygons() %&gt;% 
  addCircleMarkers(data = inat_obs_pcsp_popup_sf,
                   popup = ~popup_html, 
                   radius = 5)</code></pre>
<p style="font-weight:bold; font-size:110%;">
iNaturalist Observations in Placerita Canyon SP
<br/>
2006-01-04 to 2021-09-04
</p>
<div id="htmlwidget-3b9c8fbaeb7844225c82" style="width:680px;height:680px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-3b9c8fbaeb7844225c82">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addProviderTiles","args":["Esri.WorldStreetMap",null,null,{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addPolygons","args":[[[[{"lng":[-118.472159346213,-118.471193215311,-118.469972627623,-118.469788034611,-118.469584514996,-118.46657350769,-118.46223539047,-118.459173286991,-118.459167519807,-118.457896614784,-118.457851895751,-118.453108736253,-118.448474938557,-118.444093720169,-118.44193516017,-118.441966421541,-118.439800756766,-118.439840599744,-118.439846363335,-118.439849879341,-118.437795151113,-118.437640483679,-118.437691417258,-118.439899892146,-118.448664424692,-118.448654093167,-118.448567072468,-118.448564307453,-118.446493482314,-118.446385476071,-118.446385367375,-118.446363512262,-118.446297752888,-118.448463418562,-118.448464552236,-118.449556688924,-118.44985709364,-118.450813637721,-118.453155728024,-118.453163851489,-118.455535570028,-118.457811292798,-118.45882188851,-118.459168297748,-118.459171673617,-118.462203798518,-118.462182684515,-118.462797869687,-118.463209771499,-118.466503896341,-118.466483141664,-118.466434478129,-118.466477215478,-118.471140239863,-118.471166780588,-118.472132807285,-118.472159346213],"lat":[34.3779826358486,34.377980906146,34.3779804531463,34.3779803278484,34.3779801291514,34.3779764065464,34.3780235444548,34.3780568855064,34.3780569878205,34.3780705992991,34.3780711686992,34.3781371056385,34.3782004535393,34.3781811562449,34.378168005197,34.3745354951956,34.3745236477641,34.3714825830335,34.3710390421973,34.3707688802975,34.3707680609721,34.3707680216742,34.367025702556,34.3670128493242,34.3669761144596,34.3673671392531,34.3706665186948,34.3707734648119,34.3707727633805,34.3707727389119,34.3707782354352,34.3717237603527,34.3745590662336,34.3745708810369,34.3750255988141,34.3749792970384,34.3752949447569,34.3762996835321,34.3762370074052,34.376691728741,34.3770810407417,34.376986728991,34.376944827122,34.3769304755269,34.3769302508778,34.3768035849876,34.3759985381596,34.375984273149,34.3759746650253,34.3758978207566,34.3752782655273,34.3738206751647,34.3738211578447,34.3738677027126,34.3759243526637,34.375930136522,34.3779826358486]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"#03F","weight":5,"opacity":0.5,"fill":true,"fillColor":"#03F","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addCircleMarkers","args":[[34.3775366667,34.3769111633,34.3764305115,34.377005,34.3773521182,34.3756233333,34.3765833333,34.3753356934,34.3770523071,34.377948761,34.3757916667,34.3760083333,34.3750452917,34.3750452917,34.3750452917,34.3750452917,34.377634,34.3776209722,34.3777889722,34.3755299722,34.377133,34.377374,34.377374,34.377374,34.377374,34.377374,34.377374,34.377374,34.377374,34.377374,34.377374,34.377374,34.377374,34.377374,34.377374,34.377374,34.375524167,34.3776468421,34.3770753324,34.3761558533,34.376705,34.3766666667,34.376755,34.3680416667,34.3779303599,34.368284974,34.3765,34.3772166667,34.3772166667,34.3770972222,34.3770388889,34.3776777778,34.3776777778,34.3777416667,34.3777416667,34.3772527778,34.3771472222,34.3770333333,34.3770333333,34.3757277778,34.3764972222,34.3755888889,34.3773305556,34.3776972222,34.3775388889,34.3776083333,34.3776083333,34.3776083333,34.3776083333,34.3773833333,34.3779662586,34.3705222222,34.3769444444,34.3779047296,34.3763314772,34.3758820842,34.3751448974,34.3750685849,34.376294211,34.375795051,34.3766725498,34.3762727114,34.3759765395,34.3762607415,34.3763061234,34.3763326885,34.376274024,34.3762983239,34.3764514334,34.3765820445],[-118.4570783333,-118.4597396851,-118.4627227783,-118.46675,-118.4672378111,-118.4482066667,-118.46515,-118.4493713379,-118.4427947998,-118.4427490234,-118.4495722222,-118.4457194444,-118.46747326,-118.46747326,-118.46747326,-118.46747326,-118.458364,-118.4571389722,-118.457953,-118.448509,-118.451536,-118.470125,-118.470125,-118.470125,-118.470125,-118.470125,-118.470125,-118.470125,-118.470125,-118.470125,-118.470125,-118.470125,-118.470125,-118.470125,-118.470125,-118.470125,-118.4679759109,-118.4674574063,-118.453994085,-118.4642105103,-118.4686283333,-118.4681916667,-118.468855,-118.4467783333,-118.4674497788,-118.4463238956,-118.462375,-118.4621388889,-118.4621388889,-118.4598916667,-118.4593,-118.4583861111,-118.4583861111,-118.457325,-118.457325,-118.4554694444,-118.4517416667,-118.4509694444,-118.4509694444,-118.4445166667,-118.4449527778,-118.4485777778,-118.4562888889,-118.4583611111,-118.4585222222,-118.4599694444,-118.4599694444,-118.4599694444,-118.4599694444,-118.4619138889,-118.4675271437,-118.4472611111,-118.4709694444,-118.4424759366,-118.4421784182,-118.4442571302,-118.4448981782,-118.4449070613,-118.4445409862,-118.4442518932,-118.4446196745,-118.4445714255,-118.4435496991,-118.4445991718,-118.4446058773,-118.4446675682,-118.4445777142,-118.4445776606,-118.4451645258,-118.444983189],5,null,null,{"interactive":true,"className":"","stroke":true,"color":"#03F","weight":5,"opacity":0.5,"fill":true,"fillColor":"#03F","fillOpacity":0.2},null,null,["<p><b>Western Fence Lizard<\/b><br/><i>Sceloporus occidentalis<\/i><\/p><p>Observed: 2021-09-04 14:01:55 -0700<br/>User: bmelchiorre<\/p><p><img src='https://inaturalist-open-data.s3.amazonaws.com/photos/156814662/medium.jpg?1631412969' style='width:100%;'/><\/p>","<p><b>California mugwort<\/b><br/><i>Artemisia douglasiana<\/i><\/p><p>Observed: 2021-08-29 08:54:36 -0700<br/>User: ericas3<\/p><p><img src='https://inaturalist-open-data.s3.amazonaws.com/photos/154032624/medium.jpeg?1630278348' style='width:100%;'/><\/p>","<p><b>California Aster<\/b><br/><i>Corethrogyne filaginifolia<\/i><\/p><p>Observed: 2021-08-29 08:38:40 -0700<br/>User: ericas3<\/p><p><img src='https://inaturalist-open-data.s3.amazonaws.com/photos/153922010/medium.jpeg?1630251550' style='width:100%;'/><\/p>","<p><b>Big Berry Manzanita<\/b><br/><i>Arctostaphylos glauca<\/i><\/p><p>Observed: 2021-08-28 09:39:41 -0700<br/>User: jsmolinare<\/p><p><img src='https://inaturalist-open-data.s3.amazonaws.com/photos/153790120/medium.jpg?1630192640' style='width:100%;'/><\/p>","<p><b>western sycamore<\/b><br/><i>Platanus racemosa<\/i><\/p><p>Observed: 2021-08-28 09:35:26 -0700<br/>User: jsmolinare<\/p><p><img src='https://inaturalist-open-data.s3.amazonaws.com/photos/153789945/medium.jpg?1630192575' style='width:100%;'/><\/p>","<p><b>Live Oak Apple Gall Wasp<\/b><br/><i>Amphibolips quercuspomiformis<\/i><\/p><p>Observed: 2021-04-22 10:03:00 -0700<br/>User: jmorton<\/p><p><img src='https://inaturalist-open-data.s3.amazonaws.com/photos/151349814/medium.jpg?1629173195' style='width:100%;'/><\/p>","<p><b>California Aster<\/b><br/><i>Corethrogyne filaginifolia<\/i><\/p><p>Observed: 2021-08-09 13:33:37 -0700<br/>User: greenplato<\/p><p><img src='https://static.inaturalist.org/photos/151126746/medium.jpg?1629090286' style='width:100%;'/><\/p>","<p><b>tree tobacco<\/b><br/><i>Nicotiana glauca<\/i><\/p><p>Observed: 2021-08-08 12:32:24 -0700<br/>User: erinlucan<\/p><p><img src='https://inaturalist-open-data.s3.amazonaws.com/photos/149485788/medium.jpeg?1628454962' style='width:100%;'/><\/p>","<p><b>Stinking Everlasting<\/b><br/><i>Helichrysum foetidum<\/i><\/p><p>Observed: 2021-08-08 11:59:03 -0700<br/>User: erinlucan<\/p><p><img src='https://inaturalist-open-data.s3.amazonaws.com/photos/149485503/medium.jpeg?1628454892' style='width:100%;'/><\/p>","<p><b>California buckwheat<\/b><br/><i>Eriogonum fasciculatum<\/i><\/p><p>Observed: 2021-08-08 13:01:10 -0700<br/>User: erinlucan<\/p><p><img src='https://inaturalist-open-data.s3.amazonaws.com/photos/149485173/medium.jpeg?1628454804' style='width:100%;'/><\/p>","<p><b>Gray Fox<\/b><br/><i>Urocyon cinereoargenteus<\/i><\/p><p>Observed: 2021-07-10 10:30:13 -0700<br/>User: out_west_jess<\/p><p><img src='https://inaturalist-open-data.s3.amazonaws.com/photos/146022833/medium.jpeg?1627189183' style='width:100%;'/><\/p>","<p><b>Gray Fox<\/b><br/><i>Urocyon cinereoargenteus<\/i><\/p><p>Observed: 2021-07-10 09:59:46 -0700<br/>User: out_west_jess<\/p><p><img src='https://inaturalist-open-data.s3.amazonaws.com/photos/146022728/medium.jpeg?1627189112' style='width:100%;'/><\/p>","<p><b>western sycamore<\/b><br/><i>Platanus racemosa<\/i><\/p><p>Observed: 2006-01-04 15:48:00 -0900<br/>User: scottranger<\/p><p><img src='https://inaturalist-open-data.s3.amazonaws.com/photos/145056310/medium.jpg?1626838420' style='width:100%;'/><\/p>","<p><b>Coffee Fern<\/b><br/><i>Pellaea andromedifolia<\/i><\/p><p>Observed: 2006-01-04 15:38:00 -0900<br/>User: scottranger<\/p><p><img src='https://inaturalist-open-data.s3.amazonaws.com/photos/145056273/medium.jpg?1626838406' style='width:100%;'/><\/p>","<p><b>black maidenhair fern<\/b><br/><i>Adiantum capillus-veneris<\/i><\/p><p>Observed: 2006-01-04 15:31:00 -0900<br/>User: scottranger<\/p><p><img src='https://inaturalist-open-data.s3.amazonaws.com/photos/145056248/medium.jpg?1626838399' style='width:100%;'/><\/p>","<p><b>Bigcone Douglas-fir<\/b><br/><i>Pseudotsuga macrocarpa<\/i><\/p><p>Observed: 2006-01-04 15:19:00 -0900<br/>User: scottranger<\/p><p><img src='https://inaturalist-open-data.s3.amazonaws.com/photos/145056206/medium.jpg?1626838385' style='width:100%;'/><\/p>","<p><b>California mugwort<\/b><br/><i>Artemisia douglasiana<\/i><\/p><p>Observed: 2021-07-01 09:12:15 -0700<br/>User: nativelvr<\/p><p><img src='https://inaturalist-open-data.s3.amazonaws.com/photos/140289415/medium.jpeg?1625184811' style='width:100%;'/><\/p>","<p><b>Long-stemmed Buckwheat<\/b><br/><i>Eriogonum elongatum<\/i><\/p><p>Observed: 2021-07-01 10:24:47 -0700<br/>User: nativelvr<\/p><p><img src='https://inaturalist-open-data.s3.amazonaws.com/photos/140283569/medium.jpeg?1625182983' style='width:100%;'/><\/p>","<p><b>wild licorice<\/b><br/><i>Glycyrrhiza lepidota<\/i><\/p><p>Observed: 2021-07-01 09:13:23 -0700<br/>User: nativelvr<\/p><p><img src='https://inaturalist-open-data.s3.amazonaws.com/photos/140272507/medium.jpeg?1625179680' style='width:100%;'/><\/p>","<p><b>California Ash<\/b><br/><i>Fraxinus dipetala<\/i><\/p><p>Observed: 2021-07-01 10:06:09 -0700<br/>User: nativelvr<\/p><p><img src='https://inaturalist-open-data.s3.amazonaws.com/photos/140270040/medium.jpeg?1625179003' style='width:100%;'/><\/p>","<p><b>Sierra Snapdragon<\/b><br/><i>Sairocarpus multiflorus<\/i><\/p><p>Observed: 2021-07-01 09:25:18 -0700<br/>User: nativelvr<\/p><p><img src='https://inaturalist-open-data.s3.amazonaws.com/photos/140215712/medium.jpeg?1625164304' style='width:100%;'/><\/p>","<p><b>Fiddlenecks<\/b><br/><i>Amsinckia<\/i><\/p><p>Observed: 2015-04-10 00:00:00 +0100<br/>User: annemirdl<\/p><p><img src='https://static.inaturalist.org/photos/140112692/medium.jpg?1625121417' style='width:100%;'/><\/p>","<p><b>California Scrub-Jay<\/b><br/><i>Aphelocoma californica<\/i><\/p><p>Observed: 2015-04-10 00:00:00 +0100<br/>User: annemirdl<\/p><p><img src='https://static.inaturalist.org/photos/139918452/medium.jpg?1625052482' style='width:100%;'/><\/p>","<p><b>lupines<\/b><br/><i>Lupinus<\/i><\/p><p>Observed: 2015-04-10 00:00:00 +0100<br/>User: annemirdl<\/p><p><img src='https://static.inaturalist.org/photos/139914447/medium.jpg?1625050115' style='width:100%;'/><\/p>","<p><b>legumes<\/b><br/><i>Fabaceae<\/i><\/p><p>Observed: 2015-04-10 00:00:00 +0100<br/>User: annemirdl<\/p><p><img src='https://static.inaturalist.org/photos/139914200/medium.jpg?1625049974' style='width:100%;'/><\/p>","<p><b>chamise<\/b><br/><i>Adenostoma fasciculatum<\/i><\/p><p>Observed: 2015-04-10 00:00:00 +0100<br/>User: annemirdl<\/p><p><img src='https://static.inaturalist.org/photos/139913956/medium.jpg?1625049850' style='width:100%;'/><\/p>","<p><b>Large Crane Flies<\/b><br/><i>Tipulidae<\/i><\/p><p>Observed: 2015-04-10 00:00:00 +0100<br/>User: annemirdl<\/p><p><img src='https://static.inaturalist.org/photos/139895125/medium.jpg?1625035209' style='width:100%;'/><\/p>","<p><b>evening primrose family<\/b><br/><i>Onagraceae<\/i><\/p><p>Observed: 2015-04-10 00:00:00 +0100<br/>User: annemirdl<\/p><p><img src='https://static.inaturalist.org/photos/139894657/medium.jpg?1625034853' style='width:100%;'/><\/p>","<p><b>pincushion plants<\/b><br/><i>Chaenactis<\/i><\/p><p>Observed: 2015-04-10 00:00:00 +0100<br/>User: annemirdl<\/p><p><img src='https://static.inaturalist.org/photos/139894635/medium.jpg?1625034837' style='width:100%;'/><\/p>","<p><b>oaks<\/b><br/><i>Quercus<\/i><\/p><p>Observed: 2015-04-10 00:00:00 +0100<br/>User: annemirdl<\/p><p><img src='https://static.inaturalist.org/photos/139894603/medium.jpg?1625034807' style='width:100%;'/><\/p>","<p><b>currants and gooseberries<\/b><br/><i>Ribes<\/i><\/p><p>Observed: 2015-04-10 00:00:00 +0100<br/>User: annemirdl<\/p><p><img src='https://static.inaturalist.org/photos/139894581/medium.jpg?1625034790' style='width:100%;'/><\/p>","<p><b>mustard family<\/b><br/><i>Brassicaceae<\/i><\/p><p>Observed: 2015-04-10 00:00:00 +0100<br/>User: annemirdl<\/p><p><img src='https://static.inaturalist.org/photos/139894558/medium.jpg?1625034774' style='width:100%;'/><\/p>","<p><b><\/b><br/><i>Diplacus<\/i><\/p><p>Observed: 2015-04-10 00:00:00 +0100<br/>User: annemirdl<\/p><p><img src='https://static.inaturalist.org/photos/139894140/medium.jpg?1625034444' style='width:100%;'/><\/p>","<p><b>nightshade family<\/b><br/><i>Solanaceae<\/i><\/p><p>Observed: 2015-04-10 00:00:00 +0100<br/>User: annemirdl<\/p><p><img src='https://static.inaturalist.org/photos/139894120/medium.jpg?1625034424' style='width:100%;'/><\/p>","<p><b>Annual Cryptanthas<\/b><br/><i>Cryptantha<\/i><\/p><p>Observed: 2015-04-10 00:00:00 +0100<br/>User: annemirdl<\/p><p><img src='https://static.inaturalist.org/photos/139893957/medium.jpg?1625034258' style='width:100%;'/><\/p>","<p><b>California buckwheat<\/b><br/><i>Eriogonum fasciculatum<\/i><\/p><p>Observed: 2015-04-10 00:00:00 -0600<br/>User: annemirdl<\/p><p><img src='https://static.inaturalist.org/photos/139893924/medium.jpg?1625034225' style='width:100%;'/><\/p>","<p><b>black sage<\/b><br/><i>Salvia mellifera<\/i><\/p><p>Observed: 2021-05-17 12:45:06 UTC<br/>User: wsp8<\/p><p><img src='https://inaturalist-open-data.s3.amazonaws.com/photos/139652594/medium.jpg?1624933721' style='width:100%;'/><\/p>","<p><b><\/b><br/><i>Hesperoyucca<\/i><\/p><p>Observed: 2021-05-17 12:37:40 UTC<br/>User: wsp8<\/p><p><img src='https://inaturalist-open-data.s3.amazonaws.com/photos/139652569/medium.jpg?1624933713' style='width:100%;'/><\/p>","<p><b>Tall Psathyrella<\/b><br/><i>Psathyrella longipes<\/i><\/p><p>Observed: 2021-02-14 13:03:56 UTC<br/>User: wolanpri<\/p><p><img src='https://inaturalist-open-data.s3.amazonaws.com/photos/139112748/medium.jpg?1624751647' style='width:100%;'/><\/p>","<p><b>Golden Yarrow<\/b><br/><i>Eriophyllum confertiflorum<\/i><\/p><p>Observed: 2021-06-26 08:46:44 -0700<br/>User: tonipogue<\/p><p><img src='https://inaturalist-open-data.s3.amazonaws.com/photos/139680406/medium.jpeg?1624947267' style='width:100%;'/><\/p>","<p><b>Red-shouldered Hawk<\/b><br/><i>Buteo lineatus<\/i><\/p><p>Observed: 2021-06-20 10:16:12 -0700<br/>User: johnburnett2<\/p><p><img src='https://inaturalist-open-data.s3.amazonaws.com/photos/137779795/medium.jpg?1624233701' style='width:100%;'/><\/p>","<p><b>Great Horned Owl<\/b><br/><i>Bubo virginianus<\/i><\/p><p>Observed: 2021-06-20 12:59:14 -0700<br/>User: johnburnett2<\/p><p><img src='https://inaturalist-open-data.s3.amazonaws.com/photos/137775701/medium.jpg?1624232563' style='width:100%;'/><\/p>","<p><b>Acorn Woodpecker<\/b><br/><i>Melanerpes formicivorus<\/i><\/p><p>Observed: 2021-06-20 15:31:36 -0700<br/>User: johnburnett2<\/p><p><img src='https://inaturalist-open-data.s3.amazonaws.com/photos/137774834/medium.jpg?1624232336' style='width:100%;'/><\/p>","<p><b>lupines<\/b><br/><i>Lupinus<\/i><\/p><p>Observed: 2021-05-06 10:02:26 -0700<br/>User: lingoc<\/p><p><img src='https://inaturalist-open-data.s3.amazonaws.com/photos/137228109/medium.jpg?1624047099' style='width:100%;'/><\/p>","<p><b>California sagebrush<\/b><br/><i>Artemisia californica<\/i><\/p><p>Observed: 2021-06-12 10:47:07 -0700<br/>User: bobprasad<\/p><p><img src='https://inaturalist-open-data.s3.amazonaws.com/photos/136502991/medium.jpg?1623764332' style='width:100%;'/><\/p>","<p><b>Red-crowned Parrot<\/b><br/><i>Amazona viridigenalis<\/i><\/p><p>Observed: 2021-06-11 07:57:50 -0700<br/>User: nutsaboutkitties<\/p><p><img src='https://inaturalist-open-data.s3.amazonaws.com/photos/135557544/medium.jpg?1623440114' style='width:100%;'/><\/p>","<p><b>plants<\/b><br/><i>Plantae<\/i><\/p><p>Observed: 2021-06-06 10:22:26 -0700<br/>User: sobek<\/p><p><img src='https://static.inaturalist.org/photos/134456228/medium.jpeg?1623023421' style='width:100%;'/><\/p>","<p><b>banded bee flies<\/b><br/><i>Villini<\/i><\/p><p>Observed: 2021-06-06 10:27:33 -0700<br/>User: sobek<\/p><p><img src='https://static.inaturalist.org/photos/134455963/medium.jpeg?1623023361' style='width:100%;'/><\/p>","<p><b>roses<\/b><br/><i>Rosa<\/i><\/p><p>Observed: 2021-06-06 10:27:33 -0700<br/>User: sobek<\/p><p><img src='https://static.inaturalist.org/photos/134455728/medium.jpeg?1623023315' style='width:100%;'/><\/p>","<p><b>black locust<\/b><br/><i>Robinia pseudoacacia<\/i><\/p><p>Observed: 2021-06-06 10:36:45 -0700<br/>User: sobek<\/p><p><img src='https://static.inaturalist.org/photos/134455225/medium.jpeg?1623023195' style='width:100%;'/><\/p>","<p><b>Willows<\/b><br/><i>Salix<\/i><\/p><p>Observed: 2021-06-06 10:38:12 -0700<br/>User: sobek<\/p><p><img src='https://static.inaturalist.org/photos/134455178/medium.jpeg?1623023184' style='width:100%;'/><\/p>","<p><b>Miniature Lupine<\/b><br/><i>Lupinus bicolor<\/i><\/p><p>Observed: 2021-06-06 10:40:14 -0700<br/>User: sobek<\/p><p><img src='https://static.inaturalist.org/photos/134454987/medium.jpeg?1623023133' style='width:100%;'/><\/p>","<p><b>legumes<\/b><br/><i>Fabaceae<\/i><\/p><p>Observed: 2021-06-06 10:40:14 -0700<br/>User: sobek<\/p><p><img src='https://static.inaturalist.org/photos/134454862/medium.jpeg?1623023095' style='width:100%;'/><\/p>","<p><b>western vervain<\/b><br/><i>Verbena lasiostachys<\/i><\/p><p>Observed: 2021-06-06 10:41:57 -0700<br/>User: sobek<\/p><p><img src='https://static.inaturalist.org/photos/134454731/medium.jpeg?1623023066' style='width:100%;'/><\/p>","<p><b>Golden Yarrow<\/b><br/><i>Eriophyllum confertiflorum<\/i><\/p><p>Observed: 2021-06-06 10:41:57 -0700<br/>User: sobek<\/p><p><img src='https://static.inaturalist.org/photos/134454699/medium.jpeg?1623023057' style='width:100%;'/><\/p>","<p><b><\/b><br/><i>Faboideae<\/i><\/p><p>Observed: 2021-06-06 10:46:26 -0700<br/>User: sobek<\/p><p><img src='https://static.inaturalist.org/photos/134454485/medium.jpeg?1623023004' style='width:100%;'/><\/p>","<p><b>thistles<\/b><br/><i>Cirsium<\/i><\/p><p>Observed: 2021-06-06 10:53:40 -0700<br/>User: sobek<\/p><p><img src='https://static.inaturalist.org/photos/134454438/medium.jpeg?1623022993' style='width:100%;'/><\/p>","<p><b>sunflowers and allies<\/b><br/><i>Heliantheae<\/i><\/p><p>Observed: 2021-06-06 10:54:52 -0700<br/>User: sobek<\/p><p><img src='https://static.inaturalist.org/photos/134454117/medium.jpeg?1623022918' style='width:100%;'/><\/p>","<p><b>Bees<\/b><br/><i>Anthophila<\/i><\/p><p>Observed: 2021-06-06 10:54:52 -0700<br/>User: sobek<\/p><p><img src='https://static.inaturalist.org/photos/134454024/medium.jpeg?1623022895' style='width:100%;'/><\/p>","<p><b>sacred datura<\/b><br/><i>Datura wrightii<\/i><\/p><p>Observed: 2021-06-06 11:15:55 -0700<br/>User: sobek<\/p><p><img src='https://static.inaturalist.org/photos/134453877/medium.jpeg?1623022861' style='width:100%;'/><\/p>","<p><b>woollypod milkweed<\/b><br/><i>Asclepias eriocarpa<\/i><\/p><p>Observed: 2021-06-06 11:20:40 -0700<br/>User: sobek<\/p><p><img src='https://static.inaturalist.org/photos/134453799/medium.jpeg?1623022842' style='width:100%;'/><\/p>","<p><b>ashes<\/b><br/><i>Fraxinus<\/i><\/p><p>Observed: 2021-06-06 11:29:15 -0700<br/>User: sobek<\/p><p><img src='https://static.inaturalist.org/photos/134453621/medium.jpeg?1623022801' style='width:100%;'/><\/p>","<p><b>Harvester Ants<\/b><br/><i>Pogonomyrmex<\/i><\/p><p>Observed: 2021-06-06 11:42:50 -0700<br/>User: sobek<\/p><p><img src='https://static.inaturalist.org/photos/134453406/medium.jpeg?1623022754' style='width:100%;'/><\/p>","<p><b>Willow Gall Midges<\/b><br/><i>Rabdophaga<\/i><\/p><p>Observed: 2021-06-06 11:46:08 -0700<br/>User: sobek<\/p><p><img src='https://static.inaturalist.org/photos/134453284/medium.jpeg?1623022728' style='width:100%;'/><\/p>","<p><b>Elegant Clarkia<\/b><br/><i>Clarkia unguiculata<\/i><\/p><p>Observed: 2021-06-06 11:46:45 -0700<br/>User: sobek<\/p><p><img src='https://static.inaturalist.org/photos/134453024/medium.jpeg?1623022669' style='width:100%;'/><\/p>","<p><b>plants<\/b><br/><i>Plantae<\/i><\/p><p>Observed: 2021-06-06 11:50:19 -0700<br/>User: sobek<\/p><p><img src='https://static.inaturalist.org/photos/134452873/medium.jpeg?1623022636' style='width:100%;'/><\/p>","<p><b>rabbitfoot grass<\/b><br/><i>Polypogon monspeliensis<\/i><\/p><p>Observed: 2021-06-06 11:50:19 -0700<br/>User: sobek<\/p><p><img src='https://static.inaturalist.org/photos/134452573/medium.jpeg?1623022571' style='width:100%;'/><\/p>","<p><b>bulrushes and cattails<\/b><br/><i>Typha<\/i><\/p><p>Observed: 2021-06-06 11:50:19 -0700<br/>User: sobek<\/p><p><img src='https://static.inaturalist.org/photos/134452386/medium.jpeg?1623022533' style='width:100%;'/><\/p>","<p><b>western wallflower<\/b><br/><i>Erysimum capitatum<\/i><\/p><p>Observed: 2021-06-06 11:50:38 -0700<br/>User: sobek<\/p><p><img src='https://static.inaturalist.org/photos/134452265/medium.jpeg?1623022508' style='width:100%;'/><\/p>","<p><b>Aphids<\/b><br/><i>Aphididae<\/i><\/p><p>Observed: 2021-06-06 11:56:20 -0700<br/>User: sobek<\/p><p><img src='https://static.inaturalist.org/photos/134452158/medium.jpeg?1623022481' style='width:100%;'/><\/p>","<p><b>flowering plants<\/b><br/><i>Angiospermae<\/i><\/p><p>Observed: 2021-06-06 10:53:11 -0700<br/>User: ann519<\/p><p><img src='https://static.inaturalist.org/photos/134390192/medium.jpeg?1623007515' style='width:100%;'/><\/p>","<p><b>broadleaf lupine<\/b><br/><i>Lupinus latifolius<\/i><\/p><p>Observed: 2021-06-03 11:36:30 -0700<br/>User: cooper-conservation<\/p><p><img src='https://inaturalist-open-data.s3.amazonaws.com/photos/134233447/medium.jpeg?1622962716' style='width:100%;'/><\/p>","<p><b>Goldenrod Crab Spider<\/b><br/><i>Misumena vatia<\/i><\/p><p>Observed: 2021-06-04 10:43:00 -0700<br/>User: itsmynature<\/p><p><img src='https://static.inaturalist.org/photos/134185732/medium.jpg?1622941733' style='width:100%;'/><\/p>","<p><b>narrowleaf milkweed<\/b><br/><i>Asclepias fascicularis<\/i><\/p><p>Observed: 2021-06-02 19:22:00 -0700<br/>User: naturephotosuze<\/p><p><img src='https://static.inaturalist.org/photos/133957983/medium.jpg?1622867685' style='width:100%;'/><\/p>","<p><b>American Kestrel<\/b><br/><i>Falco sparverius<\/i><\/p><p>Observed: 2021-06-02 19:10:00 -0700<br/>User: naturephotosuze<\/p><p><img src='https://static.inaturalist.org/photos/133957961/medium.jpg?1622867675' style='width:100%;'/><\/p>","<p><b>Western Bluebird<\/b><br/><i>Sialia mexicana<\/i><\/p><p>Observed: 2021-06-02 18:25:00 -0700<br/>User: naturephotosuze<\/p><p><img src='https://static.inaturalist.org/photos/133957957/medium.jpg?1622867673' style='width:100%;'/><\/p>","<p><b>Margined Scarlet Plant Bug<\/b><br/><i>Lopidea marginata<\/i><\/p><p>Observed: 2021-06-02 18:10:00 -0700<br/>User: naturephotosuze<\/p><p><img src='https://static.inaturalist.org/photos/133957947/medium.jpg?1622867667' style='width:100%;'/><\/p>","<p><b>Clearwater cryptantha<\/b><br/><i>Cryptantha intermedia<\/i><\/p><p>Observed: 2021-06-02 18:00:00 -0700<br/>User: naturephotosuze<\/p><p><img src='https://static.inaturalist.org/photos/133957936/medium.jpg?1622867662' style='width:100%;'/><\/p>","<p><b><\/b><br/><i>Megachilinae<\/i><\/p><p>Observed: 2021-06-02 17:44:00 -0700<br/>User: naturephotosuze<\/p><p><img src='https://static.inaturalist.org/photos/133957913/medium.jpg?1622867654' style='width:100%;'/><\/p>","<p><b>Coyote<\/b><br/><i>Canis latrans<\/i><\/p><p>Observed: 2021-06-02 17:34:00 -0700<br/>User: naturephotosuze<\/p><p><img src='https://static.inaturalist.org/photos/133957942/medium.jpg?1622867665' style='width:100%;'/><\/p>","<p><b>Coyote<\/b><br/><i>Canis latrans<\/i><\/p><p>Observed: 2021-06-02 17:16:00 -0700<br/>User: naturephotosuze<\/p><p><img src='https://static.inaturalist.org/photos/133957902/medium.jpg?1622867646' style='width:100%;'/><\/p>","<p><b>California Bumble Bee<\/b><br/><i>Bombus californicus<\/i><\/p><p>Observed: 2021-06-02 17:03:00 -0700<br/>User: naturephotosuze<\/p><p><img src='https://static.inaturalist.org/photos/133957871/medium.jpg?1622867627' style='width:100%;'/><\/p>","<p><b>Pallid-winged Grasshopper<\/b><br/><i>Trimerotropis pallidipennis<\/i><\/p><p>Observed: 2021-06-02 16:51:00 -0700<br/>User: naturephotosuze<\/p><p><img src='https://static.inaturalist.org/photos/133956656/medium.jpg?1622867017' style='width:100%;'/><\/p>","<p><b>Western Carpenter<\/b><br/><i>Xylocopa californica<\/i><\/p><p>Observed: 2021-06-02 16:48:00 -0700<br/>User: naturephotosuze<\/p><p><img src='https://static.inaturalist.org/photos/133956637/medium.jpg?1622867008' style='width:100%;'/><\/p>","<p><b>Bees<\/b><br/><i>Anthophila<\/i><\/p><p>Observed: 2021-06-02 16:48:00 -0700<br/>User: naturephotosuze<\/p><p><img src='https://static.inaturalist.org/photos/133956637/medium.jpg?1622867008' style='width:100%;'/><\/p>","<p><b>Common Side-blotched Lizard<\/b><br/><i>Uta stansburiana<\/i><\/p><p>Observed: 2021-06-02 16:46:00 -0700<br/>User: naturephotosuze<\/p><p><img src='https://static.inaturalist.org/photos/133956632/medium.jpg?1622867006' style='width:100%;'/><\/p>","<p><b>Leafcutter, Mortar, and Resin Bees<\/b><br/><i>Megachile<\/i><\/p><p>Observed: 2021-06-02 16:45:00 -0700<br/>User: naturephotosuze<\/p><p><img src='https://static.inaturalist.org/photos/133956610/medium.jpg?1622866994' style='width:100%;'/><\/p>","<p><b>Leafcutter, Mortar, and Resin Bees<\/b><br/><i>Megachile<\/i><\/p><p>Observed: 2021-06-02 16:42:00 -0700<br/>User: naturephotosuze<\/p><p><img src='https://static.inaturalist.org/photos/133956594/medium.jpg?1622866989' style='width:100%;'/><\/p>","<p><b>Blue-black Spider Wasps<\/b><br/><i>Anoplius<\/i><\/p><p>Observed: 2021-06-02 15:03:00 -0700<br/>User: naturephotosuze<\/p><p><img src='https://static.inaturalist.org/photos/133956180/medium.jpg?1622866807' style='width:100%;'/><\/p>","<p><b>Oak Titmouse<\/b><br/><i>Baeolophus inornatus<\/i><\/p><p>Observed: 2021-06-02 15:20:00 -0700<br/>User: naturephotosuze<\/p><p><img src='https://static.inaturalist.org/photos/133956559/medium.jpg?1622866975' style='width:100%;'/><\/p>"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[34.3669761144596,34.3782004535393],"lng":[-118.472159346213,-118.437640483679]}},"evals":[],"jsHooks":[]}</script>
<p><br />
</p>
</div>
<div id="map-arachnids" class="section level2">
<h2>Map Arachnids</h2>
<p>The iNaturalist API supports taxon searching. If you pass it the name of a genus, for example, it will restrict results to only observations from that genus. Likewise for family, order, class, etc. Observations that don’t have a scientific name assigned will be left out.</p>
<p>You can do a taxon search from R by passing the <code>taxon_name</code> argument in <code>get_inat_obs()</code>. Below we’ll ask for the <a href="">Arachnid</a> class, which includes spiders, scorpions, ticks, and other arthropods. This code should all look familiar:</p>
<pre class="r"><code>search_arachnid_fn &lt;- &quot;placertia_arachnid_obs.Rdata&quot;
if (file.exists(search_arachnid_fn)) {
  load(search_arachnid_fn)
} else {  
  inat_arachnid_df &lt;- get_inat_obs(bounds = placertia_bb[c(2,1,4,3)], 
                            taxon_name = &quot;Arachnida&quot;,
                            year = NULL,
                            month = NULL,
                            maxresults = 100)
  save(inat_arachnid_df, file = search_arachnid_fn)
}

inat_arachnid_pcsp_popup_sf &lt;- inat_arachnid_df %&gt;% 
  select(longitude, latitude, datetime, common_name, scientific_name, image_url, user_login) %&gt;%
  st_as_sf(coords=c(&quot;longitude&quot;, &quot;latitude&quot;), crs=4326) %&gt;% 
  st_intersection(placertia_sf) %&gt;% 
  mutate(popup_html = paste0(&quot;&lt;p&gt;&lt;b&gt;&quot;, common_name, &quot;&lt;/b&gt;&lt;br/&gt;&quot;,
                             &quot;&lt;i&gt;&quot;, scientific_name, &quot;&lt;/i&gt;&lt;/p&gt;&quot;,
                             &quot;&lt;p&gt;Observed: &quot;, datetime, &quot;&lt;br/&gt;&quot;,
                             &quot;User: &quot;, user_login, &quot;&lt;/p&gt;&quot;,
                             &quot;&lt;p&gt;&lt;img src=&#39;&quot;, image_url, &quot;&#39; style=&#39;width:100%;&#39;/&gt;&lt;/p&gt;&quot;))

htmltools::p(&quot;Arachnids in Placerita Canyon SP&quot;, style = &quot;font-weight:bold; font-size:110%;&quot;)

leaflet(placertia_sf) %&gt;% 
  addProviderTiles(&quot;Esri.WorldStreetMap&quot;) %&gt;% 
  addPolygons() %&gt;% 
  addCircleMarkers(data = inat_arachnid_pcsp_popup_sf,
                   popup = ~popup_html, 
                   radius = 5)</code></pre>
<p><p style="font-weight:bold; font-size:110%;">Arachnids in Placerita Canyon SP</p></p>
<div id="htmlwidget-4714c8f98c8cae52098c" style="width:680px;height:680px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-4714c8f98c8cae52098c">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addProviderTiles","args":["Esri.WorldStreetMap",null,null,{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addPolygons","args":[[[[{"lng":[-118.472159346213,-118.471193215311,-118.469972627623,-118.469788034611,-118.469584514996,-118.46657350769,-118.46223539047,-118.459173286991,-118.459167519807,-118.457896614784,-118.457851895751,-118.453108736253,-118.448474938557,-118.444093720169,-118.44193516017,-118.441966421541,-118.439800756766,-118.439840599744,-118.439846363335,-118.439849879341,-118.437795151113,-118.437640483679,-118.437691417258,-118.439899892146,-118.448664424692,-118.448654093167,-118.448567072468,-118.448564307453,-118.446493482314,-118.446385476071,-118.446385367375,-118.446363512262,-118.446297752888,-118.448463418562,-118.448464552236,-118.449556688924,-118.44985709364,-118.450813637721,-118.453155728024,-118.453163851489,-118.455535570028,-118.457811292798,-118.45882188851,-118.459168297748,-118.459171673617,-118.462203798518,-118.462182684515,-118.462797869687,-118.463209771499,-118.466503896341,-118.466483141664,-118.466434478129,-118.466477215478,-118.471140239863,-118.471166780588,-118.472132807285,-118.472159346213],"lat":[34.3779826358486,34.377980906146,34.3779804531463,34.3779803278484,34.3779801291514,34.3779764065464,34.3780235444548,34.3780568855064,34.3780569878205,34.3780705992991,34.3780711686992,34.3781371056385,34.3782004535393,34.3781811562449,34.378168005197,34.3745354951956,34.3745236477641,34.3714825830335,34.3710390421973,34.3707688802975,34.3707680609721,34.3707680216742,34.367025702556,34.3670128493242,34.3669761144596,34.3673671392531,34.3706665186948,34.3707734648119,34.3707727633805,34.3707727389119,34.3707782354352,34.3717237603527,34.3745590662336,34.3745708810369,34.3750255988141,34.3749792970384,34.3752949447569,34.3762996835321,34.3762370074052,34.376691728741,34.3770810407417,34.376986728991,34.376944827122,34.3769304755269,34.3769302508778,34.3768035849876,34.3759985381596,34.375984273149,34.3759746650253,34.3758978207566,34.3752782655273,34.3738206751647,34.3738211578447,34.3738677027126,34.3759243526637,34.375930136522,34.3779826358486]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"#03F","weight":5,"opacity":0.5,"fill":true,"fillColor":"#03F","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addCircleMarkers","args":[[34.3769444444,34.373475,34.3770916667,34.3775778282,34.3778342569,34.3772888111,34.3773300088,34.377025,34.3770013008,34.3771313273,34.3768938525,34.3766075053,34.3762522204,34.3769403418,34.3758191956,34.3757358173,34.3751571426,34.37609017,34.3765886817,34.3772222222,34.3772222222],[-118.4709694444,-118.4460611111,-118.4679033333,-118.4587309557,-118.4571651644,-118.4514337362,-118.4548423012,-118.4703133333,-118.4597238947,-118.4683379683,-118.4696589464,-118.4708938297,-118.46408766,-118.4671360457,-118.4673927584,-118.4684963811,-118.4675255116,-118.46758253,-118.4694950619,-118.47,-118.47],5,null,null,{"interactive":true,"className":"","stroke":true,"color":"#03F","weight":5,"opacity":0.5,"fill":true,"fillColor":"#03F","fillOpacity":0.2},null,null,["<p><b>Goldenrod Crab Spider<\/b><br/><i>Misumena vatia<\/i><\/p><p>Observed: 2021-06-04 10:43:00 -0700<br/>User: itsmynature<\/p><p><img src='https://static.inaturalist.org/photos/134185732/medium.jpg?1622941733' style='width:100%;'/><\/p>","<p><b>Crab Spiders<\/b><br/><i>Thomisidae<\/i><\/p><p>Observed: 2021-06-03 11:20:42 -0700<br/>User: cooper-conservation<\/p><p><img src='https://inaturalist-open-data.s3.amazonaws.com/photos/133739926/medium.jpeg?1622786768' style='width:100%;'/><\/p>","<p><b>Whirligig Mites<\/b><br/><i>Anystis<\/i><\/p><p>Observed: 2021-04-24 13:55:48 -0700<br/>User: johnburnett2<\/p><p><img src='https://inaturalist-open-data.s3.amazonaws.com/photos/122861936/medium.jpg?1619314869' style='width:100%;'/><\/p>","<p><b>Pacific Coast Tick<\/b><br/><i>Dermacentor occidentalis<\/i><\/p><p>Observed: 2021-04-05 13:01:39 -0700<br/>User: trailblazr<\/p><p><img src='https://static.inaturalist.org/photos/119320459/medium.jpg?1617721179' style='width:100%;'/><\/p>","<p><b>Pacific Coast Tick<\/b><br/><i>Dermacentor occidentalis<\/i><\/p><p>Observed: 2021-04-05 13:03:32 -0700<br/>User: trailblazr<\/p><p><img src='https://static.inaturalist.org/photos/119320284/medium.jpg?1617721104' style='width:100%;'/><\/p>","<p><b>Pacific Coast Tick<\/b><br/><i>Dermacentor occidentalis<\/i><\/p><p>Observed: 2021-04-05 13:00:03 -0700<br/>User: trailblazr<\/p><p><img src='https://static.inaturalist.org/photos/119318444/medium.jpg?1617720351' style='width:100%;'/><\/p>","<p><b>Pacific Coast Tick<\/b><br/><i>Dermacentor occidentalis<\/i><\/p><p>Observed: 2021-04-05 13:00:32 -0700<br/>User: trailblazr<\/p><p><img src='https://static.inaturalist.org/photos/119283171/medium.jpg?1617690750' style='width:100%;'/><\/p>","<p><b>Funnel Weavers<\/b><br/><i>Agelenidae<\/i><\/p><p>Observed: 2021-03-27 15:55:53 -0700<br/>User: johnburnett2<\/p><p><img src='https://static.inaturalist.org/photos/117939351/medium.jpg?1617003139' style='width:100%;'/><\/p>","<p><b>Wolf Spiders<\/b><br/><i>Lycosidae<\/i><\/p><p>Observed: 2020-10-10 15:56:59 -0700<br/>User: trailblazr<\/p><p><img src='https://static.inaturalist.org/photos/99973567/medium.jpg?1602514903' style='width:100%;'/><\/p>","<p><b>Oregon Paradise Spider<\/b><br/><i>Habronattus oregonensis<\/i><\/p><p>Observed: 2020-05-25 16:21:50 -0700<br/>User: trailblazr<\/p><p><img src='https://static.inaturalist.org/photos/79744907/medium.jpg?1592617878' style='width:100%;'/><\/p>","<p><b>Wolf Spiders<\/b><br/><i>Lycosidae<\/i><\/p><p>Observed: 2020-05-22 11:41:33 -0700<br/>User: trailblazr<\/p><p><img src='https://static.inaturalist.org/photos/74498858/medium.jpg?1590247088' style='width:100%;'/><\/p>","<p><b>Ground Spiders<\/b><br/><i>Gnaphosidae<\/i><\/p><p>Observed: 2019-12-17 11:45:30 -1000<br/>User: trailblazr<\/p><p><img src='https://static.inaturalist.org/photos/58126010/medium.jpg?1576630400' style='width:100%;'/><\/p>","<p><b>Sheetweb and Dwarf Weavers<\/b><br/><i>Linyphiidae<\/i><\/p><p>Observed: 2019-12-09 16:35:50 -1000<br/>User: trailblazr<\/p><p><img src='https://static.inaturalist.org/photos/57737984/medium.jpg?1575944667' style='width:100%;'/><\/p>","<p><b>Green Lynx Spider<\/b><br/><i>Peucetia viridans<\/i><\/p><p>Observed: 2019-09-26 11:32:39 -0700<br/>User: trailblazr<\/p><p><img src='https://static.inaturalist.org/photos/52844273/medium.jpg?1569813241' style='width:100%;'/><\/p>","<p><b><\/b><br/><i>Kovarikia<\/i><\/p><p>Observed: 2019-08-17 21:28:36 -0700<br/>User: trailblazr<\/p><p><img src='https://static.inaturalist.org/photos/48627788/medium.jpg?1566175931' style='width:100%;'/><\/p>","<p><b>Devil Scorpions<\/b><br/><i>Vaejovidae<\/i><\/p><p>Observed: 2019-08-17 20:44:56 -0700<br/>User: trailblazr<\/p><p><img src='https://static.inaturalist.org/photos/48569452/medium.jpg?1566142083' style='width:100%;'/><\/p>","<p><b>California Swollenstinger Scorpion<\/b><br/><i>Anuroctonus pococki<\/i><\/p><p>Observed: 2019-08-17 20:30:04 -0700<br/>User: trailblazr<\/p><p><img src='https://static.inaturalist.org/photos/48568524/medium.jpg?1566141599' style='width:100%;'/><\/p>","<p><b>California common scorpion<\/b><br/><i>Paruroctonus silvestrii<\/i><\/p><p>Observed: 2019-07-20 20:38:32 -0700<br/>User: barbara341<\/p><p><img src='https://static.inaturalist.org/photos/45593422/medium.jpeg?1563680370' style='width:100%;'/><\/p>","<p><b>Koch's Wolf Spider<\/b><br/><i>Alopecosa kochi<\/i><\/p><p>Observed: 2019-04-27 17:26:00 -0700<br/>User: ectothermist<\/p><p><img src='https://inaturalist-open-data.s3.amazonaws.com/photos/37880292/medium.jpeg?1556953594' style='width:100%;'/><\/p>","<p><b>Cellar Spiders<\/b><br/><i>Pholcidae<\/i><\/p><p>Observed: 2016-09-10 10:59:00 -0700<br/>User: yetikat<\/p><p><img src='https://inaturalist-open-data.s3.amazonaws.com/photos/4842914/medium.jpeg?1473555634' style='width:100%;'/><\/p>","<p><b>Cellar Spiders<\/b><br/><i>Pholcidae<\/i><\/p><p>Observed: 2016-09-10 11:00:00 -0700<br/>User: yetikat<\/p><p><img src='https://inaturalist-open-data.s3.amazonaws.com/photos/4842900/medium.jpg?1473555496' style='width:100%;'/><\/p>"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[34.3669761144596,34.3782004535393],"lng":[-118.472159346213,-118.437640483679]}},"evals":[],"jsHooks":[]}</script>
<p><br />
</p>
</div>
<div id="summary" class="section level2">
<h2>Summary</h2>
<p>The iNaturalist API allows you to download observations from a global community of naturalists, which is pretty powerful. This Tech Note showed you how to create a map of iNaturalist observations within a specific area and for a specific taxon using the <code>rinat</code> and <code>leaflet</code> packages for R.</p>
<p>A couple caveats are worth noting. A limitation of this method is that the data are static. In other words, to get the latest data your have to re-query the API again. It isn’t ‘live’ like a feature service.</p>
<p>Also, although leaflet works well for small to medium sized datasets, you wouldn’t want to use this mapping tool for massive amounts of spatial data. With leaflet, all of the geographic information and popup content are saved in the HTML file, and rendering is done on the client. This generally makes it extremely fast because everything is in memory. But if the data overwhelm memory it can slow your browser to a crawl. If you have to map hundreds of thousands of points, for example, you would need a different approach for both downloading and visualizing the data.</p>
<p><br />
</p>
</div>

<p style="margin-top:2em;"><img src="data:image/png;base64,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" style="width:550px; height:58px;"/></p>
<p>&nbsp;</p>



</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("show" === "show");
});
</script>



</body>
</html>
